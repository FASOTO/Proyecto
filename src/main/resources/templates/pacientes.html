<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{Layout/layout :: head}"></head>
<body>

    <header th:replace="~{Layout/layout :: header}"></header>

    <div class="main-container">
    <div class="table-container">
    
    <table class="table table-bordered table-striped" th:if="${not listadoPacientes.isEmpty()}">
       
        <thead>
            <tr>
                <td colspan="8" class="title-table text-center p-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <span th:text="${titulo}"></span>
                        <form class="d-flex" role="search">
                            <input class="form-control me-2" type="search" placeholder="Buscar..." aria-label="Search">
                            <!-- <button class="btn btn-outline-success" type="submit">
                                <i class="bx bx-search-alt-2"></i>
                            </button> -->
                        </form>
                    </div>
                    
                </td>
            </tr>
            <tr>
                <th>Apellido</th>
                <th>Nombre</th>
                <th>Edad</th>
                <th>Cel</th>
                <th>Fecha de Nacimiento</th>
                <th>Nacionalidad</th>
                <th>DNI</th>
            </tr>
        </thead> 

        <!-- 4) Link y muestra en Modal (funciona) -->
        <tbody class="table-hover" id="efectoFilas">
            <tr th:each="p : ${listadoPacientes}">
                <td th:text="${p.apellido}" class="paciente-link" th:id="'apellido-' + ${p.dni}"></td>
                <td th:text="${p.nombre}" class="paciente-link" th:id="'nombre-' + ${p.dni}"></td>
                <td th:text="${p.edad}" class="paciente-link" th:id="'edad-' + ${p.dni}"></td>
                <td th:text="${p.telefono}" class="paciente-link" th:id="'telefono-' + ${p.dni}"></td>
                <td th:text="${p.fechaNacimiento}" class="paciente-link" th:id="'fechaNacimiento-' + ${p.dni}"></td>
                <td th:text="${p.nacionalidad}" class="paciente-link" th:id="'nacionalidad-' + ${p.dni}"></td>
                <td th:text="${p.dni}" class="paciente-link" th:id="'dni-' + ${p.dni}"></td>
            </tr>
        </tbody>
        
        
    </table>
    
    </div>
<!--Modal de informacion expandida del paciente-->
<div class="modal fade" id="infopaciente" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Mas informacion del paciente: </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <td colspan="8" class="title-table text-center p-2">Informacion esencial</td>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th>Apellido</th>
                        <th>Nombre</th>
                        <th>Edad</th>
                        <th>Telefono</th>
                        <th>FechaNacimiento</th>
                        <th>Nacionalidad</th>
                        <th>DNI</th>
                    </tr>
                </thead>
                <tbody class="table-light">
           
                    <!-- <tr>
                        <td th:text="${pacienteEncontrado.apellido}"></td>
                        <td th:text="${pacienteEncontrado.nombre}"></td>
                        <td th:text="${pacienteEncontrado.edad}"></td>
                        <td th:text="${pacienteEncontrado.telefono}"></td>
                        <td th:text="${pacienteEncontrado.fechaNacimiento}"></td>
                        <td th:text="${pacienteEncontrado.nacionalidad}"></td>
                        <td th:text="${pacienteEncontrado.dni}"></td>
                                                
                    </tr> -->

                    <!-- 2) Mostrando en MODAL -->
                    <tr>
                        <td id="apellido"></td>
                        <td id="nombre"></td>
                        <td id="edad"></td>
                        <td id="telefono"></td>
                        <td id="fechaNacimiento"></td>
                        <td id="nacionalidad"></td>
                        <td id="dni"></td>
                    </tr>
                    
                </tbody>
            </table>

            <table class="table table-bordered table-striped">
                <thead>
                    <tr> <td colspan="2" class="title-table text-center p-2">Informacion clinica resultado</td> </tr>
                    <tr> <th>Informacion</th> <th>Descripcion</th> </tr>
                </thead>
                <tbody class="table-light">
                    <tr> <td></td> <td></td> </tr>
                </tbody>
            </table>

            <table class="table table-bordered table-striped">
                <thead>
                    <tr> <td colspan="3" class="title-table text-center p-2">Informacion clinica del paciente</td> </tr>
                    <tr> <th>Informacion</th> <th>SI</th> <th>NO</th> </tr>
                </thead>
                <tbody class="table-light">
                    <tr> <td></td> <td></td> <td></td> </tr>
                </tbody>
            </table>

            <table class="table table-bordered table-striped">
                <thead>
                    <tr> <td colspan="2" class="title-table text-center p-2">Informacion clinica del paciente</td> </tr>
                    <tr> <th>Informacion</th> <th>Descripcion</th> </tr>
                </thead>
                <tbody class="table-light">
                    <tr> <td></td> <td></td> </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/pacientes.js"></script>


<footer th:replace="~{Layout/layout :: footer}"></footer>
</body>
</html>
